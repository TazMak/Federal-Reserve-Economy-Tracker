{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../services/api';import KeyIndicators from'./KeyIndicators';import LineChart from'./charts/LineChart';import{getDateRange}from'../utils/dateUtils';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[dashboardData,setDashboardData]=useState({});const[timeRange,setTimeRange]=useState('1y');const[chartData,setChartData]=useState({});useEffect(()=>{const fetchDashboardData=async()=>{try{setLoading(true);// Fetch summary data for key indicators\nconst dashboardResponse=await api.getDashboardData();setDashboardData(dashboardResponse.data);// Fetch time series data for charts\nconst{startDate,endDate}=getDateRange(timeRange);// Fetch key indicator time series\nconst indicators=['FEDFUNDS','UNRATE','CPIAUCSL','GDPC1'];const chartDataPromises=indicators.map(async seriesId=>{const response=await api.getIndicator(seriesId,startDate,endDate);return{id:seriesId,...response.data};});const chartResults=await Promise.all(chartDataPromises);// Organize chart data\nconst chartsData={};chartResults.forEach(result=>{chartsData[result.series_id]=result;});setChartData(chartsData);}catch(err){console.error('Error fetching dashboard data:',err);setError('Failed to load dashboard data. Please try again later.');}finally{setLoading(false);}};fetchDashboardData();},[timeRange]);const handleTimeRangeChange=range=>{setTimeRange(range);};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Economic Indicators Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-controls\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Time Range: \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:timeRange==='6m'?'active':'',onClick:()=>handleTimeRangeChange('6m'),children:\"6 Months\"}),/*#__PURE__*/_jsx(\"button\",{className:timeRange==='1y'?'active':'',onClick:()=>handleTimeRangeChange('1y'),children:\"1 Year\"}),/*#__PURE__*/_jsx(\"button\",{className:timeRange==='5y'?'active':'',onClick:()=>handleTimeRangeChange('5y'),children:\"5 Years\"}),/*#__PURE__*/_jsx(\"button\",{className:timeRange==='10y'?'active':'',onClick:()=>handleTimeRangeChange('10y'),children:\"10 Years\"})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading dashboard data...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(KeyIndicators,{data:dashboardData}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Federal Funds Rate\"}),chartData.FEDFUNDS&&/*#__PURE__*/_jsx(LineChart,{data:chartData.FEDFUNDS.data,xKey:\"date\",yKey:\"value\",color:\"#1f77b4\",tooltipFormatter:value=>`${value}%`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Unemployment Rate\"}),chartData.UNRATE&&/*#__PURE__*/_jsx(LineChart,{data:chartData.UNRATE.data,xKey:\"date\",yKey:\"value\",color:\"#ff7f0e\",tooltipFormatter:value=>`${value}%`})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Consumer Price Index\"}),chartData.CPIAUCSL&&/*#__PURE__*/_jsx(LineChart,{data:chartData.CPIAUCSL.data,xKey:\"date\",yKey:\"value\",color:\"#2ca02c\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Real GDP\"}),chartData.GDPC1&&/*#__PURE__*/_jsx(LineChart,{data:chartData.GDPC1.data,xKey:\"date\",yKey:\"value\",color:\"#d62728\",tooltipFormatter:value=>`$${value.toLocaleString()} Billion`})]})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","api","KeyIndicators","LineChart","getDateRange","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","loading","setLoading","error","setError","dashboardData","setDashboardData","timeRange","setTimeRange","chartData","setChartData","fetchDashboardData","dashboardResponse","getDashboardData","data","startDate","endDate","indicators","chartDataPromises","map","seriesId","response","getIndicator","id","chartResults","Promise","all","chartsData","forEach","result","series_id","err","console","handleTimeRangeChange","range","className","children","onClick","FEDFUNDS","xKey","yKey","color","tooltipFormatter","value","UNRATE","CPIAUCSL","GDPC1","toLocaleString"],"sources":["/home/tazmak/Desktop/2024_Code/py-Projects/FRED-tracker/Federal-Reserve-Economy-Tracker/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport KeyIndicators from './KeyIndicators';\nimport LineChart from './charts/LineChart';\nimport { getDateRange } from '../utils/dateUtils';\n\nconst Dashboard = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [dashboardData, setDashboardData] = useState({});\n  const [timeRange, setTimeRange] = useState('1y');\n  const [chartData, setChartData] = useState({});\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        \n        // Fetch summary data for key indicators\n        const dashboardResponse = await api.getDashboardData();\n        setDashboardData(dashboardResponse.data);\n        \n        // Fetch time series data for charts\n        const { startDate, endDate } = getDateRange(timeRange);\n        \n        // Fetch key indicator time series\n        const indicators = ['FEDFUNDS', 'UNRATE', 'CPIAUCSL', 'GDPC1'];\n        const chartDataPromises = indicators.map(async (seriesId) => {\n          const response = await api.getIndicator(seriesId, startDate, endDate);\n          return {\n            id: seriesId,\n            ...response.data\n          };\n        });\n        \n        const chartResults = await Promise.all(chartDataPromises);\n        \n        // Organize chart data\n        const chartsData = {};\n        chartResults.forEach(result => {\n          chartsData[result.series_id] = result;\n        });\n        \n        setChartData(chartsData);\n      } catch (err) {\n        console.error('Error fetching dashboard data:', err);\n        setError('Failed to load dashboard data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchDashboardData();\n  }, [timeRange]);\n\n  const handleTimeRangeChange = (range) => {\n    setTimeRange(range);\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <h2>Economic Indicators Dashboard</h2>\n      <div className=\"time-controls\">\n        <span>Time Range: </span>\n        <div className=\"time-buttons\">\n          <button \n            className={timeRange === '6m' ? 'active' : ''} \n            onClick={() => handleTimeRangeChange('6m')}\n          >\n            6 Months\n          </button>\n          <button \n            className={timeRange === '1y' ? 'active' : ''} \n            onClick={() => handleTimeRangeChange('1y')}\n          >\n            1 Year\n          </button>\n          <button \n            className={timeRange === '5y' ? 'active' : ''} \n            onClick={() => handleTimeRangeChange('5y')}\n          >\n            5 Years\n          </button>\n          <button \n            className={timeRange === '10y' ? 'active' : ''} \n            onClick={() => handleTimeRangeChange('10y')}\n          >\n            10 Years\n          </button>\n        </div>\n      </div>\n      \n      {loading ? (\n        <div className=\"loading\">Loading dashboard data...</div>\n      ) : error ? (\n        <div className=\"error\">{error}</div>\n      ) : (\n        <>\n          <KeyIndicators data={dashboardData} />\n          \n          <div className=\"charts-container\">\n            <div className=\"chart-row\">\n              <div className=\"chart-card\">\n                <h3>Federal Funds Rate</h3>\n                {chartData.FEDFUNDS && (\n                  <LineChart \n                    data={chartData.FEDFUNDS.data} \n                    xKey=\"date\"\n                    yKey=\"value\"\n                    color=\"#1f77b4\"\n                    tooltipFormatter={(value) => `${value}%`}\n                  />\n                )}\n              </div>\n              <div className=\"chart-card\">\n                <h3>Unemployment Rate</h3>\n                {chartData.UNRATE && (\n                  <LineChart \n                    data={chartData.UNRATE.data} \n                    xKey=\"date\"\n                    yKey=\"value\"\n                    color=\"#ff7f0e\"\n                    tooltipFormatter={(value) => `${value}%`}\n                  />\n                )}\n              </div>\n            </div>\n            \n            <div className=\"chart-row\">\n              <div className=\"chart-card\">\n                <h3>Consumer Price Index</h3>\n                {chartData.CPIAUCSL && (\n                  <LineChart \n                    data={chartData.CPIAUCSL.data} \n                    xKey=\"date\"\n                    yKey=\"value\"\n                    color=\"#2ca02c\"\n                  />\n                )}\n              </div>\n              <div className=\"chart-card\">\n                <h3>Real GDP</h3>\n                {chartData.GDPC1 && (\n                  <LineChart \n                    data={chartData.GDPC1.data} \n                    xKey=\"date\"\n                    yKey=\"value\"\n                    color=\"#d62728\"\n                    tooltipFormatter={(value) => `$${value.toLocaleString()} Billion`}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}