{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSearchParams}from'react-router-dom';import api from'../../services/api';import LineChart from'../charts/LineChart';import YieldCurve from'../charts/YieldCurve';import{getDateRange}from'../../utils/dateUtils';import{formatPercentage}from'../../utils/formatUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InterestRates=()=>{const[searchParams]=useSearchParams();const defaultSeries=searchParams.get('series')||'FEDFUNDS';const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[seriesData,setSeriesData]=useState({});const[timeRange,setTimeRange]=useState('5y');const[selectedSeries,setSelectedSeries]=useState(defaultSeries);const[availableSeries,setAvailableSeries]=useState([]);useEffect(()=>{// Load the list of available interest rate indicators\nconst fetchAvailableIndicators=async()=>{try{const response=await api.getIndicators();const interestRateIndicators=response.data.indicators.filter(ind=>ind.category==='Interest Rates');setAvailableSeries(interestRateIndicators);}catch(err){console.error('Error fetching available indicators:',err);setError('Failed to load indicator options.');}};fetchAvailableIndicators();},[]);useEffect(()=>{const fetchSeriesData=async()=>{try{setLoading(true);const{startDate,endDate}=getDateRange(timeRange);const response=await api.getIndicator(selectedSeries,startDate,endDate);setSeriesData(response.data);}catch(err){console.error(`Error fetching ${selectedSeries} data:`,err);setError(`Failed to load ${selectedSeries} data. Please try again later.`);}finally{setLoading(false);}};fetchSeriesData();},[selectedSeries,timeRange]);const handleSeriesChange=event=>{setSelectedSeries(event.target.value);};const handleTimeRangeChange=range=>{setTimeRange(range);};return/*#__PURE__*/_jsxs(\"div\",{className:\"interest-rates indicator-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Interest Rates\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selector\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"series-select\",children:\"Select Indicator: \"}),/*#__PURE__*/_jsx(\"select\",{id:\"series-select\",value:selectedSeries,onChange:handleSeriesChange,children:availableSeries.map(series=>/*#__PURE__*/_jsx(\"option\",{value:series.id,children:series.name},series.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-controls\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Time Range: \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:timeRange==='1y'?'active':'',onClick:()=>handleTimeRangeChange('1y'),children:\"1 Year\"}),/*#__PURE__*/_jsx(\"button\",{className:timeRange==='5y'?'active':'',onClick:()=>handleTimeRangeChange('5y'),children:\"5 Years\"}),/*#__PURE__*/_jsx(\"button\",{className:timeRange==='10y'?'active':'',onClick:()=>handleTimeRangeChange('10y'),children:\"10 Years\"}),/*#__PURE__*/_jsx(\"button\",{className:timeRange==='all'?'active':'',onClick:()=>handleTimeRangeChange('all'),children:\"All\"})]})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading interest rate data...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"indicator-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"indicator-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:seriesData.title}),seriesData.data&&seriesData.data.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"current-value\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Latest Value:\",/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatPercentage(seriesData.data[seriesData.data.length-1].value)})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:seriesData.data&&seriesData.data.length>0?/*#__PURE__*/_jsx(LineChart,{data:seriesData.data,xKey:\"date\",yKey:\"value\",color:\"#0066cc\",title:seriesData.title,tooltipFormatter:value=>`${value}%`}):/*#__PURE__*/_jsx(\"p\",{children:\"No data available for the selected time period.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"indicator-description\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"About this indicator\"}),/*#__PURE__*/_jsxs(\"p\",{children:[selectedSeries==='FEDFUNDS'&&'The federal funds rate is the interest rate at which depository institutions trade federal funds with each other overnight. Changes in the federal funds rate trigger a chain of events that affect other short-term interest rates, foreign exchange rates, long-term interest rates, the amount of money and credit, and, ultimately, a range of economic variables.',selectedSeries==='T10Y2Y'&&'The 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity yield spread is the difference between the 10-year Treasury rate and the 2-year Treasury rate. This spread is followed as an indicator of economic conditions. A negative spread (or \"inverted yield curve\") has historically been viewed as a predictor of recessions.']})]})]})]});};export default InterestRates;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","api","LineChart","YieldCurve","getDateRange","formatPercentage","jsx","_jsx","jsxs","_jsxs","InterestRates","searchParams","defaultSeries","get","loading","setLoading","error","setError","seriesData","setSeriesData","timeRange","setTimeRange","selectedSeries","setSelectedSeries","availableSeries","setAvailableSeries","fetchAvailableIndicators","response","getIndicators","interestRateIndicators","data","indicators","filter","ind","category","err","console","fetchSeriesData","startDate","endDate","getIndicator","handleSeriesChange","event","target","value","handleTimeRangeChange","range","className","children","htmlFor","id","onChange","map","series","name","onClick","title","length","xKey","yKey","color","tooltipFormatter"],"sources":["/home/tazmak/Desktop/2024_Code/py-Projects/FRED-tracker/Federal-Reserve-Economy-Tracker/frontend/src/components/indicators/InterestRates.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from '../../services/api';\nimport LineChart from '../charts/LineChart';\nimport YieldCurve from '../charts/YieldCurve';\nimport { getDateRange } from '../../utils/dateUtils';\nimport { formatPercentage } from '../../utils/formatUtils';\n\nconst InterestRates = () => {\n  const [searchParams] = useSearchParams();\n  const defaultSeries = searchParams.get('series') || 'FEDFUNDS';\n  \n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [seriesData, setSeriesData] = useState({});\n  const [timeRange, setTimeRange] = useState('5y');\n  const [selectedSeries, setSelectedSeries] = useState(defaultSeries);\n  const [availableSeries, setAvailableSeries] = useState([]);\n  \n  useEffect(() => {\n    // Load the list of available interest rate indicators\n    const fetchAvailableIndicators = async () => {\n      try {\n        const response = await api.getIndicators();\n        const interestRateIndicators = response.data.indicators.filter(\n          ind => ind.category === 'Interest Rates'\n        );\n        setAvailableSeries(interestRateIndicators);\n      } catch (err) {\n        console.error('Error fetching available indicators:', err);\n        setError('Failed to load indicator options.');\n      }\n    };\n    \n    fetchAvailableIndicators();\n  }, []);\n  \n  useEffect(() => {\n    const fetchSeriesData = async () => {\n      try {\n        setLoading(true);\n        \n        const { startDate, endDate } = getDateRange(timeRange);\n        \n        const response = await api.getIndicator(selectedSeries, startDate, endDate);\n        setSeriesData(response.data);\n        \n      } catch (err) {\n        console.error(`Error fetching ${selectedSeries} data:`, err);\n        setError(`Failed to load ${selectedSeries} data. Please try again later.`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchSeriesData();\n  }, [selectedSeries, timeRange]);\n  \n  const handleSeriesChange = (event) => {\n    setSelectedSeries(event.target.value);\n  };\n  \n  const handleTimeRangeChange = (range) => {\n    setTimeRange(range);\n  };\n  \n  return (\n    <div className=\"interest-rates indicator-page\">\n      <h2>Interest Rates</h2>\n      \n      <div className=\"controls\">\n        <div className=\"selector\">\n          <label htmlFor=\"series-select\">Select Indicator: </label>\n          <select \n            id=\"series-select\" \n            value={selectedSeries} \n            onChange={handleSeriesChange}\n          >\n            {availableSeries.map(series => (\n              <option key={series.id} value={series.id}>\n                {series.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        <div className=\"time-controls\">\n          <span>Time Range: </span>\n          <div className=\"time-buttons\">\n            <button \n              className={timeRange === '1y' ? 'active' : ''} \n              onClick={() => handleTimeRangeChange('1y')}\n            >\n              1 Year\n            </button>\n            <button \n              className={timeRange === '5y' ? 'active' : ''} \n              onClick={() => handleTimeRangeChange('5y')}\n            >\n              5 Years\n            </button>\n            <button \n              className={timeRange === '10y' ? 'active' : ''} \n              onClick={() => handleTimeRangeChange('10y')}\n            >\n              10 Years\n            </button>\n            <button \n              className={timeRange === 'all' ? 'active' : ''} \n              onClick={() => handleTimeRangeChange('all')}\n            >\n              All\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {loading ? (\n        <div className=\"loading\">Loading interest rate data...</div>\n      ) : error ? (\n        <div className=\"error\">{error}</div>\n      ) : (\n        <div className=\"indicator-content\">\n          <div className=\"indicator-header\">\n            <h3>{seriesData.title}</h3>\n            {seriesData.data && seriesData.data.length > 0 && (\n              <div className=\"current-value\">\n                <p>Latest Value: \n                  <span className=\"value\">{formatPercentage(seriesData.data[seriesData.data.length - 1].value)}</span>\n                </p>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"chart-container\">\n            {seriesData.data && seriesData.data.length > 0 ? (\n              <LineChart \n                data={seriesData.data} \n                xKey=\"date\"\n                yKey=\"value\"\n                color=\"#0066cc\"\n                title={seriesData.title}\n                tooltipFormatter={(value) => `${value}%`}\n              />\n            ) : (\n              <p>No data available for the selected time period.</p>\n            )}\n          </div>\n          \n          <div className=\"indicator-description\">\n            <h4>About this indicator</h4>\n            <p>\n              {selectedSeries === 'FEDFUNDS' && 'The federal funds rate is the interest rate at which depository institutions trade federal funds with each other overnight. Changes in the federal funds rate trigger a chain of events that affect other short-term interest rates, foreign exchange rates, long-term interest rates, the amount of money and credit, and, ultimately, a range of economic variables.'}\n              {selectedSeries === 'T10Y2Y' && 'The 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity yield spread is the difference between the 10-year Treasury rate and the 2-year Treasury rate. This spread is followed as an indicator of economic conditions. A negative spread (or \"inverted yield curve\") has historically been viewed as a predictor of recessions.'}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InterestRates;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}